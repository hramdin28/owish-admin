{"remainingRequest":"/Users/hanishramdin/Documents/vue-workspace/owish/node_modules/babel-loader/lib/index.js!/Users/hanishramdin/Documents/vue-workspace/owish/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hanishramdin/Documents/vue-workspace/owish/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hanishramdin/Documents/vue-workspace/owish/src/components/WishList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hanishramdin/Documents/vue-workspace/owish/src/components/WishList.vue","mtime":1576513812189},{"path":"/Users/hanishramdin/Documents/vue-workspace/owish/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hanishramdin/Documents/vue-workspace/owish/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hanishramdin/Documents/vue-workspace/owish/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hanishramdin/Documents/vue-workspace/owish/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnNldCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9Vc2Vycy9oYW5pc2hyYW1kaW4vRG9jdW1lbnRzL3Z1ZS13b3Jrc3BhY2Uvb3dpc2gvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICJib290c3RyYXAvZGlzdC9jc3MvYm9vdHN0cmFwLmNzcyI7CmltcG9ydCAiYm9vdHN0cmFwLXZ1ZS9kaXN0L2Jvb3RzdHJhcC12dWUuY3NzIjsKaW1wb3J0IFNvY2tKUyBmcm9tICJzb2NranMtY2xpZW50IjsKaW1wb3J0IFN0b21wIGZyb20gIndlYnN0b21wLWNsaWVudCI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAid2Vic29ja2V0ZGVtbyIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlY2VpdmVkX21lc3NhZ2VzOiBbXSwKICAgICAgc2VuZF9tZXNzYWdlOiBudWxsLAogICAgICBjb25uZWN0ZWQ6IGZhbHNlLAogICAgICBwYWdlOiAtMQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoRGF0YTogZnVuY3Rpb24gZmV0Y2hEYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5wYWdlKys7CiAgICAgIGF4aW9zKHsKICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgIHVybDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQUNLRU5EX0hPU1QgKyAiZmV0Y2hBbGxCeVBhZ2VOdW1iZXI/cGFnZU51bWJlcj0iICsgdGhpcy5wYWdlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIHZhciBfdGhpcyRyZWNlaXZlZF9tZXNzYWc7CgogICAgICAgIChfdGhpcyRyZWNlaXZlZF9tZXNzYWcgPSBfdGhpcy5yZWNlaXZlZF9tZXNzYWdlcykucHVzaC5hcHBseShfdGhpcyRyZWNlaXZlZF9tZXNzYWcsIF90b0NvbnN1bWFibGVBcnJheShBcnJheS5mcm9tKG5ldyBTZXQocmVzdWx0LmRhdGEpKSkpOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBjb25uZWN0OiBmdW5jdGlvbiBjb25uZWN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuc29ja2V0ID0gbmV3IFNvY2tKUyhwcm9jZXNzLmVudi5WVUVfQVBQX0JBQ0tFTkRfSE9TVCArIHByb2Nlc3MuZW52LlZVRV9BUFBfU09DS0VUX0VORFBPSU5UKTsKICAgICAgdGhpcy5zdG9tcENsaWVudCA9IFN0b21wLm92ZXIodGhpcy5zb2NrZXQpOwogICAgICB0aGlzLnN0b21wQ2xpZW50LmNvbm5lY3Qoe30sIGZ1bmN0aW9uIChmcmFtZSkgewogICAgICAgIF90aGlzMi5jb25uZWN0ZWQgPSB0cnVlOwoKICAgICAgICBfdGhpczIuc3RvbXBDbGllbnQuc3Vic2NyaWJlKCIvdG9waWMvd2lzaGVzLyIsIGZ1bmN0aW9uICh0aWNrKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UodGljay5ib2R5KTsKCiAgICAgICAgICBpZiAoIkFERCIgPT09IGRhdGEudHlwZSkgewogICAgICAgICAgICBpZiAoIV90aGlzMi5yZWNlaXZlZF9tZXNzYWdlcy5maW5kKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHguaWQgPT09IGRhdGEud2lzaER0by5pZDsKICAgICAgICAgICAgfSkpIHsKICAgICAgICAgICAgICBfdGhpczIucmVjZWl2ZWRfbWVzc2FnZXMuc3BsaWNlKDAsIDAsIGRhdGEud2lzaER0byk7CgogICAgICAgICAgICAgIGlmIChfdGhpczIucmVjZWl2ZWRfbWVzc2FnZXMubGVuZ3RoID4gMTAgKiAoX3RoaXMyLnBhZ2UgKyAxKSkgewogICAgICAgICAgICAgICAgX3RoaXMyLnJlY2VpdmVkX21lc3NhZ2VzLnNwbGljZSgxMCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoX3RoaXMyLnJlY2VpdmVkX21lc3NhZ2VzLmZpbmQoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgICByZXR1cm4geC5pZCA9PT0gZGF0YS53aXNoRHRvLmlkOwogICAgICAgICAgICB9KSkgewogICAgICAgICAgICAgIF90aGlzMi5yZWNlaXZlZF9tZXNzYWdlcy5zcGxpY2UoX3RoaXMyLnJlY2VpdmVkX21lc3NhZ2VzLmZpbmRJbmRleChmdW5jdGlvbiAoeCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHguaWQgPT09IGRhdGEud2lzaER0by5pZDsKICAgICAgICAgICAgICB9KSwgMSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gLy90aGlzLnJlY2VpdmVkX21lc3NhZ2VzLnB1c2goSlNPTi5wYXJzZSh0aWNrLmJvZHkpLmNvbnRlbnQpOwoKICAgICAgICB9KTsKICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMyLmNvbm5lY3RlZCA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBkaXNjb25uZWN0OiBmdW5jdGlvbiBkaXNjb25uZWN0KCkgewogICAgICBpZiAodGhpcy5zdG9tcENsaWVudCkgewogICAgICAgIHRoaXMuc3RvbXBDbGllbnQuZGlzY29ubmVjdCgpOwogICAgICB9CgogICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlOwogICAgfSwKICAgIHRpY2tsZUNvbm5lY3Rpb246IGZ1bmN0aW9uIHRpY2tsZUNvbm5lY3Rpb24oKSB7CiAgICAgIHRoaXMuY29ubmVjdGVkID8gdGhpcy5kaXNjb25uZWN0KCkgOiB0aGlzLmNvbm5lY3QoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgY29uc29sZS5lcnJvcihwcm9jZXNzLmVudik7CiAgICB0aGlzLmNvbm5lY3QoKTsKICAgIHRoaXMuZmV0Y2hEYXRhKCk7CiAgfQp9Ow=="},{"version":3,"sources":["WishList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div id=\"main-content\" class=\"container\">\n      <b-list-group>\n        <b-list-group-item\n          v-for=\"message in this.received_messages\"\n          :key=\"message.id\"\n        >{{message.name}}</b-list-group-item>\n      </b-list-group>\n      <br>\n      <b-button squared variant=\"info\" v-on:click=\"fetchData\">More</b-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap-vue/dist/bootstrap-vue.css\";\n\nimport SockJS from \"sockjs-client\";\nimport Stomp from \"webstomp-client\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"websocketdemo\",\n  data() {\n    return {\n      received_messages: [],\n      send_message: null,\n      connected: false,\n      page: -1\n    };\n  },\n  methods: {\n    fetchData() {\n      this.page++;\n      axios({\n        method: \"GET\",\n        url:\n          process.env.VUE_APP_BACKEND_HOST +\n          \"fetchAllByPageNumber?pageNumber=\" +\n          this.page\n      }).then(\n        result => {\n          this.received_messages.push(...Array.from(new Set(result.data)));\n        },\n        error => {\n          // eslint-disable-next-line no-console\n          console.error(error);\n        }\n      );\n    },\n    connect() {\n      this.socket = new SockJS(\n        process.env.VUE_APP_BACKEND_HOST + process.env.VUE_APP_SOCKET_ENDPOINT\n      );\n      this.stompClient = Stomp.over(this.socket);\n      this.stompClient.connect(\n        {},\n        frame => {\n          this.connected = true;\n          this.stompClient.subscribe(\"/topic/wishes/\", tick => {\n            let data = JSON.parse(tick.body);\n            if (\"ADD\" === data.type) {\n              if (!this.received_messages.find(x => x.id === data.wishDto.id)) {\n                this.received_messages.splice(0, 0, data.wishDto);\n                if (this.received_messages.length > 10 * (this.page + 1)) {\n                  this.received_messages.splice(10);\n                }\n              }\n            } else {\n              if (this.received_messages.find(x => x.id === data.wishDto.id)) {\n                this.received_messages.splice(\n                  this.received_messages.findIndex(\n                    x => x.id === data.wishDto.id\n                  ),\n                  1\n                );\n              }\n            }\n            //this.received_messages.push(JSON.parse(tick.body).content);\n          });\n        },\n        error => {\n          this.connected = false;\n        }\n      );\n    },\n    disconnect() {\n      if (this.stompClient) {\n        this.stompClient.disconnect();\n      }\n      this.connected = false;\n    },\n    tickleConnection() {\n      this.connected ? this.disconnect() : this.connect();\n    }\n  },\n  mounted() {\n    // eslint-disable-next-line no-console\n    console.error(process.env);\n    this.connect();\n    this.fetchData();\n  }\n};\n</script>\n\n\n"],"sourceRoot":"src/components"}]}