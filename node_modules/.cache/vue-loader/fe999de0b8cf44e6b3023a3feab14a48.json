{"remainingRequest":"/Users/hanishramdin/Documents/vue-workspace/owish/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hanishramdin/Documents/vue-workspace/owish/src/components/WishList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hanishramdin/Documents/vue-workspace/owish/src/components/WishList.vue","mtime":1576418828113},{"path":"/Users/hanishramdin/Documents/vue-workspace/owish/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hanishramdin/Documents/vue-workspace/owish/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hanishramdin/Documents/vue-workspace/owish/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hanishramdin/Documents/vue-workspace/owish/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTb2NrSlMgZnJvbSAic29ja2pzLWNsaWVudCI7CmltcG9ydCBTdG9tcCBmcm9tICJ3ZWJzdG9tcC1jbGllbnQiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJ3ZWJzb2NrZXRkZW1vIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVjZWl2ZWRfbWVzc2FnZXM6IFtdLAogICAgICBzZW5kX21lc3NhZ2U6IG51bGwsCiAgICAgIGNvbm5lY3RlZDogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZW5kKCkgewogICAgICBpZiAodGhpcy5zdG9tcENsaWVudCAmJiB0aGlzLnN0b21wQ2xpZW50LmNvbm5lY3RlZCkgewogICAgICAgIGNvbnN0IG1zZyA9IHsgbmFtZTogdGhpcy5zZW5kX21lc3NhZ2UgfTsKICAgICAgICB0aGlzLnN0b21wQ2xpZW50LnNlbmQoIi90b3BpYy93aXNoZXMvIiwgSlNPTi5zdHJpbmdpZnkobXNnKSwge30pOwogICAgICB9CiAgICB9LAogICAgY29ubmVjdCgpIHsKICAgICAgdGhpcy5zb2NrZXQgPSBuZXcgU29ja0pTKCJodHRwOi8vbG9jYWxob3N0OjgwODAvd2wtd2Vic29ja2V0Iik7CgogICAgICB0aGlzLnNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbihlKSB7CiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKICAgICAgICBjb25zb2xlLmxvZygibWVzc2FnZSIsIGUuZGF0YSk7CiAgICAgIH07CgogICAgICB0aGlzLnN0b21wQ2xpZW50ID0gU3RvbXAub3Zlcih0aGlzLnNvY2tldCk7CiAgICAgIHRoaXMuc3RvbXBDbGllbnQuY29ubmVjdCgKICAgICAgICB7fSwKICAgICAgICBmcmFtZSA9PiB7CiAgICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IHRydWU7CiAgICAgICAgICB0aGlzLnN0b21wQ2xpZW50LnN1YnNjcmliZSgiL3RvcGljL3dpc2hlcy8iLCB0aWNrID0+IHsKICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgY29uc29sZS5sb2codGljayk7CiAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRfbWVzc2FnZXMucHVzaChKU09OLnBhcnNlKHRpY2suYm9keSkuY29udGVudCk7CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGVycm9yID0+IHsKICAgICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7CiAgICAgICAgfQogICAgICApOwogICAgfSwKICAgIGRpc2Nvbm5lY3QoKSB7CiAgICAgIGlmICh0aGlzLnN0b21wQ2xpZW50KSB7CiAgICAgICAgdGhpcy5zdG9tcENsaWVudC5kaXNjb25uZWN0KCk7CiAgICAgIH0KICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTsKICAgIH0sCiAgICB0aWNrbGVDb25uZWN0aW9uKCkgewogICAgICB0aGlzLmNvbm5lY3RlZCA/IHRoaXMuZGlzY29ubmVjdCgpIDogdGhpcy5jb25uZWN0KCk7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5jb25uZWN0KCk7CiAgfQp9Owo="},{"version":3,"sources":["WishList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"WishList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div id=\"main-content\" class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-md-6\">\n          <form class=\"form-inline\">\n            <div class=\"form-group\">\n              <label for=\"connect\">WebSocket connection:</label>\n              <button\n                id=\"connect\"\n                class=\"btn btn-default\"\n                type=\"submit\"\n                :disabled=\"connected == true\"\n                @click.prevent=\"connect\"\n              >Connect</button>\n              <button\n                id=\"disconnect\"\n                class=\"btn btn-default\"\n                type=\"submit\"\n                :disabled=\"connected == false\"\n                @click.prevent=\"disconnect\"\n              >Disconnect</button>\n            </div>\n          </form>\n        </div>\n        <div class=\"col-md-6\">\n          <form class=\"form-inline\">\n            <div class=\"form-group\">\n              <label for=\"name\">What is your name?</label>\n              <input\n                type=\"text\"\n                id=\"name\"\n                class=\"form-control\"\n                v-model=\"send_message\"\n                placeholder=\"Your name here...\"\n              >\n            </div>\n            <button id=\"send\" class=\"btn btn-default\" type=\"submit\" @click.prevent=\"send\">Send</button>\n          </form>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-md-12\">\n          <table id=\"conversation\" class=\"table table-striped\">\n            <thead>\n              <tr>\n                <th>Greetings</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"item in received_messages\" :key=\"item\">\n                <td>{{ item }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SockJS from \"sockjs-client\";\nimport Stomp from \"webstomp-client\";\n\nexport default {\n  name: \"websocketdemo\",\n  data() {\n    return {\n      received_messages: [],\n      send_message: null,\n      connected: false\n    };\n  },\n  methods: {\n    send() {\n      if (this.stompClient && this.stompClient.connected) {\n        const msg = { name: this.send_message };\n        this.stompClient.send(\"/topic/wishes/\", JSON.stringify(msg), {});\n      }\n    },\n    connect() {\n      this.socket = new SockJS(\"http://localhost:8080/wl-websocket\");\n\n      this.socket.onmessage = function(e) {\n        // eslint-disable-next-line no-console\n        console.log(\"message\", e.data);\n      };\n\n      this.stompClient = Stomp.over(this.socket);\n      this.stompClient.connect(\n        {},\n        frame => {\n          this.connected = true;\n          this.stompClient.subscribe(\"/topic/wishes/\", tick => {\n            // eslint-disable-next-line no-console\n            console.log(tick);\n            this.received_messages.push(JSON.parse(tick.body).content);\n          });\n        },\n        error => {\n          this.connected = false;\n        }\n      );\n    },\n    disconnect() {\n      if (this.stompClient) {\n        this.stompClient.disconnect();\n      }\n      this.connected = false;\n    },\n    tickleConnection() {\n      this.connected ? this.disconnect() : this.connect();\n    }\n  },\n  mounted() {\n    this.connect();\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n"]}]}